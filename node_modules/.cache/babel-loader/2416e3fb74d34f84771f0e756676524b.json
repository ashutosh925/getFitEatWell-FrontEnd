{"ast":null,"code":"var _jsxFileName = \"/Users/roy/Desktop/Projects/getFit-frontEnd/src/views/pages/authentication/login/LoginJWT.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CardBody, FormGroup, Form, Input, Button, Label } from \"reactstrap\";\nimport Checkbox from \"../../../../components/@vuexy/checkbox/CheckboxesVuexy\";\nimport { Mail, Lock, Check } from \"react-feather\";\nimport { loginWithJWT } from \"../../../../redux/actions/auth/loginActions\";\nimport { connect } from \"react-redux\";\nimport { history } from \"../../../../history\";\nimport axios from \"axios\";\nimport { Alert } from \"reactstrap\"; // import { useHistory } from \"react-router-dom\";\n// const history = useHistory();\n\nclass LoginJWT extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      remember: false,\n      error: \"\"\n    };\n\n    this.handleLogin = e => {\n      e.preventDefault();\n      this.callApi();\n    };\n  }\n\n  componentDidMount() {}\n\n  callApi() {\n    console.log('calling api');\n    const {\n      email,\n      password\n    } = this.state;\n    const base_url = \"http://localhost:2000\";\n    axios.post(base_url + \"/api/v1/auth/login\", {\n      email: email,\n      password: password,\n      login_type: 'email'\n    }).then(response => {\n      var loggedInUser;\n      console.log(response);\n\n      if (response.data) {\n        loggedInUser = response.data.user;\n        history.push(\"/profile\");\n      }\n    }).catch(err => {\n      this.setState({\n        error: err.response.data.error\n      });\n      console.log(err.response.data.error);\n    });\n  }\n\n  render() {\n    const {\n      error\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      className: \"pt-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, error !== \"\" && /*#__PURE__*/React.createElement(Alert, {\n      color: \"warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    }, error), /*#__PURE__*/React.createElement(Form, {\n      action: \"/\",\n      onSubmit: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"form-label-group position-relative has-icon-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      placeholder: \"Email\",\n      value: this.state.email,\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-control-position\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Mail, {\n      size: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, \"Email\")), /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"form-label-group position-relative has-icon-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: e => this.setState({\n        password: e.target.value\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-control-position\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Lock, {\n      size: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }, \"Password\")), /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"d-flex justify-content-between align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      color: \"primary\",\n      icon: /*#__PURE__*/React.createElement(Check, {\n        className: \"vx-icon\",\n        size: 16,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 23\n        }\n      }),\n      label: \"Remember me\",\n      defaultChecked: false,\n      onChange: this.handleRemember,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/forgot-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"Forgot Password?\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button.Ripple, {\n      color: \"primary\",\n      outline: true // onClick={() => {\n      //   history.push(\"/register\")\n      // }}\n      ,\n      href: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(Button.Ripple, {\n      color: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, \"Login\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    values: state.auth.login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  loginWithJWT\n})(LoginJWT);","map":{"version":3,"sources":["/Users/roy/Desktop/Projects/getFit-frontEnd/src/views/pages/authentication/login/LoginJWT.js"],"names":["React","Link","CardBody","FormGroup","Form","Input","Button","Label","Checkbox","Mail","Lock","Check","loginWithJWT","connect","history","axios","Alert","LoginJWT","Component","state","email","password","remember","error","handleLogin","e","preventDefault","callApi","componentDidMount","console","log","base_url","post","login_type","then","response","loggedInUser","data","user","push","catch","err","setState","render","target","value","handleRemember","mapStateToProps","values","auth","login"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { CardBody, FormGroup, Form, Input, Button, Label } from \"reactstrap\"\nimport Checkbox from \"../../../../components/@vuexy/checkbox/CheckboxesVuexy\"\nimport { Mail, Lock, Check } from \"react-feather\"\nimport { loginWithJWT } from \"../../../../redux/actions/auth/loginActions\"\nimport { connect } from \"react-redux\"\nimport { history } from \"../../../../history\"\nimport axios from \"axios\";\nimport {Alert} from \"reactstrap\";\n// import { useHistory } from \"react-router-dom\";\n\n// const history = useHistory();\nclass LoginJWT extends React.Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    remember: false,\n    error : \"\",\n  }\n\n  handleLogin = e => {\n    e.preventDefault()\n    this.callApi();\n  }\n\n  componentDidMount(){\n\n  }\n\n  callApi(){\n    console.log('calling api');\n    const {email, password} = this.state;\n    const base_url = \"http://localhost:2000\";\n     axios\n      .post(base_url + \"/api/v1/auth/login\", {\n        email: email,\n        password: password,\n        login_type : 'email',\n      })\n      .then(response => {\n        var loggedInUser\n        console.log(response);\n        if (response.data) {\n          loggedInUser = response.data.user\n          history.push(\"/profile\");\n        }\n      })\n      .catch(err => {\n        this.setState({error : err.response.data.error})\n        console.log(err.response.data.error)\n      })\n  }\n\n  render() {\n    const {error} = this.state;\n    return (\n      <React.Fragment>\n        <CardBody className=\"pt-1\">\n          {error !== \"\" &&  <Alert color=\"warning\">{error}</Alert>}\n          <Form action=\"/\" onSubmit={this.handleLogin}>\n            <FormGroup className=\"form-label-group position-relative has-icon-left\">\n              <Input\n                type=\"email\"\n                placeholder=\"Email\"\n                value={this.state.email}\n                onChange={e => this.setState({ email: e.target.value })}\n                required\n              />\n              <div className=\"form-control-position\">\n                <Mail size={15} />\n              </div>\n              <Label>Email</Label>\n            </FormGroup>\n            <FormGroup className=\"form-label-group position-relative has-icon-left\">\n              <Input\n                type=\"password\"\n                placeholder=\"Password\"\n                value={this.state.password}\n                onChange={e => this.setState({ password: e.target.value })}\n                required\n              />\n              <div className=\"form-control-position\">\n                <Lock size={15} />\n              </div>\n              <Label>Password</Label>\n            </FormGroup>\n            <FormGroup className=\"d-flex justify-content-between align-items-center\">\n              <Checkbox\n                color=\"primary\"\n                icon={<Check className=\"vx-icon\" size={16} />}\n                label=\"Remember me\"\n                defaultChecked={false}\n                onChange={this.handleRemember}\n              />\n              <div className=\"float-right\">\n                <Link to=\"/forgot-password\">Forgot Password?</Link>\n              </div>\n            </FormGroup>\n            <div className=\"d-flex justify-content-between\">\n              <Button.Ripple\n                color=\"primary\"\n                outline\n                // onClick={() => {\n                //   history.push(\"/register\")\n                // }}\n                href=\"/register\"\n              >\n                Register\n              </Button.Ripple>\n              <Button.Ripple color=\"primary\" type=\"submit\">\n                Login\n              </Button.Ripple>\n            </div>\n          </Form>\n        </CardBody>\n      </React.Fragment>\n    )\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    values: state.auth.login\n  }\n}\nexport default connect(mapStateToProps, { loginWithJWT })(LoginJWT)\n"]},"metadata":{},"sourceType":"module"}